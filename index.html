<!DOCTYPE html>
<html>
<head>
    <title>Devotionals Debug</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .container { display: flex; gap: 20px; }
        .message-box { flex: 1; border: 1px solid #ccc; padding: 15px; }
        #debug { margin-top: 20px; padding: 10px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h1>Daily Devotionals</h1>
    <div class="container">
        <div class="message-box">
            <h2>Today's Telugu</h2>
            <div id="telugu-message">Loading...</div>
        </div>
        <div class="message-box">
            <h2>Yesterday's English</h2>
            <div id="english-message">Loading...</div>
        </div>
    </div>
    
    <div id="debug">
        <h3>Debug Information</h3>
        <div id="debug-output"></div>
    </div>

    <script>
        function logDebug(message) {
            document.getElementById('debug-output').innerHTML += `<p>${message}</p>`;
            console.log(message);
        }

        function formatDate(date) {
            const months = ['jan','feb','mar','apr','may','jun',
                          'jul','aug','sep','oct','nov','dec'];
            const month = months[date.getMonth()];
            const day = date.getDate().toString().padStart(2,'0');
            return month + day;
        }

        function getYesterday(date) {
            const yesterday = new Date(date);
            yesterday.setDate(yesterday.getDate() - 1);
            return yesterday;
        }

        function loadDevotional(elementId, filename) {
            logDebug(`Trying to load: ${filename}`);
            
            fetch(filename)
                .then(response => {
                    if (!response.ok) throw new Error('File not found');
                    return response.text();
                })
                .then(html => {
                    document.getElementById(elementId).innerHTML = html;
                    logDebug(`Successfully loaded: ${filename}`);
                })
                .catch(error => {
                    document.getElementById(elementId).innerHTML = 
                        `Could not load ${filename}`;
                    logDebug(`Error loading ${filename}: ${error.message}`);
                });
        }

        // Main execution
        const today = new Date();
        const yesterday = getYesterday(today);
        
        const todayFile = formatDate(today);
        const yesterdayFile = formatDate(yesterday);
        
        logDebug(`Today: ${todayFile}`);
        logDebug(`Yesterday: ${yesterdayFile}`);
        
        loadDevotional('telugu-message', `${todayFile}t.html`);
        loadDevotional('english-message', `${yesterdayFile}e.html`);
    </script>
</body>
</html>